{"version":3,"sources":["helpers/logger.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;AAEA,IAAM,gBAAgB;AACpB,aAAW;AACT,UAAM,kBAAQ,UAAR,CAAmB,OADhB;AAET,UAAM,CAAC;AACL,iBAAW,IADN;AAEL,gBAAU;AAFL,KAAD;AAFG,GADS;AAQpB,UAAQ;AACN,0CADM;AAEN,UAAM,CAAC;AACL,gBAAa,SAAb,4BADK;AAEL,eAAS,sBAAO,oBAAP,CAFJ;AAGL,gBAAU,sBAAO,qBAAP;AAHL,KAAD;AAFA;AARY,CAAtB;;AAkBA,IAAI,aAAa,sBAAO,uBAAP,EAAgC,GAAhC,CAAoC,UAAC,IAAD,EAAU;AAC7D,SAAO,cAAc,IAAd,CAAP;AACD,CAFgB,EAEd,MAFc,CAEP;AAAA,SAAa,CAAC,CAAC,SAAf;AAAA,CAFO,CAAjB;;AAIA,IAAI,WAAW,MAAX,IAAqB,CAAzB,EAA4B;AAC1B,eAAa,0BAAE,aAAF,EAAiB,OAAjB,EAAb;AACD;;AAED,aAAa,WAAW,GAAX,CAAe;AAAA,4CAAiB,UAAU,IAA3B,mCAAmC,UAAU,IAA7C;AAAA,CAAf,CAAb;;AAEA,IAAI,SAAS,IAAI,kBAAQ,MAAZ,CAAmB,EAAE,YAAY,UAAd,EAAnB,CAAb;;kBAEe,M","file":"helpers/logger.js","sourcesContent":["import _ from 'underscore';\nimport Winston from 'winston';\nimport WinstonDailyRotateFileTransport from 'winston-daily-rotate-file';\n\nimport config from './config';\n\nconst TRANSPORT_MAP = {\n  'console': {\n    ctor: Winston.transports.Console,\n    args: [{\n      timestamp: true,\n      colorize: true\n    }]\n  },\n  'file': {\n    ctor: WinstonDailyRotateFileTransport,\n    args: [{\n      filename: `${__dirname}/../../logs/ololord.log`,\n      maxsize: config('system.log.maxSize'),\n      maxFiles: config('system.log.maxFiles')\n    }]\n  }\n};\n\nlet transports = config('system.log.transports').map((name) => {\n  return TRANSPORT_MAP[name];\n}).filter(transport => !!transport);\n\nif (transports.length <= 0) {\n  transports = _(TRANSPORT_MAP).toArray();\n}\n\ntransports = transports.map(transport => new transport.ctor(...transport.args));\n\nlet Logger = new Winston.Logger({ transports: transports });\n\nexport default Logger;\n"],"sourceRoot":"/source/"}