{"version":3,"sources":["helpers/permissions.js"],"names":["PERMISSIONS","addFilesToPost","deleteFile","deletePost","editAudioTags","editFileRating","editPost","moveThread","setThreadClosed","setThreadFixed","setThreadUnbumpable","useRawHTMLMarkup","each","defaultLevel","key","module","exports","board","name"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;AACA;;;;;;AAEO,IAAMA,oCAAc;AACzBC,kBAAgB,OADS;AAEzBC,cAAY,IAFa;AAGzBC,cAAY,IAHa;AAIzBC,iBAAe,IAJU;AAKzBC,kBAAgB,IALS;AAMzBC,YAAU,OANe;AAOzBC,cAAY,OAPa;AAQzBC,mBAAiB,OARQ;AASzBC,kBAAgB,OATS;AAUzBC,uBAAqB,OAVI;AAWzBC,oBAAkB;AAXO,CAApB;;AAcP,0BAAEX,WAAF,EAAeY,IAAf,CAAoB,UAACC,YAAD,EAAeC,GAAf,EAAuB;AACzCC,SAAOC,OAAP,CAAeF,GAAf,IAAsB,UAACG,KAAD,EAAW;AAC/B,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BA,cAAQ,gBAAMA,KAAN,CAAYA,KAAZ,CAAR;AACD;AACD,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,uCAAsBH,GAAtB,EAA6BD,YAA7B,CAAP;AACD;AACD,WAAO,iCAAgBI,MAAMC,IAAtB,qBAA0CJ,GAA1C,EAAiD,uCAAsBA,GAAtB,EAA6BD,YAA7B,CAAjD,CAAP;AACD,GARD;AASD,CAVD","file":"permissions.js","sourcesContent":["import _ from 'underscore';\n\nimport Board from '../boards/board';\nimport config from './config';\n\nexport const PERMISSIONS = {\n  addFilesToPost: 'MODER',\n  deleteFile: null,\n  deletePost: null,\n  editAudioTags: null,\n  editFileRating: null,\n  editPost: 'MODER',\n  moveThread: 'MODER',\n  setThreadClosed: 'MODER',\n  setThreadFixed: 'MODER',\n  setThreadUnbumpable: 'MODER',\n  useRawHTMLMarkup: 'MODER'\n};\n\n_(PERMISSIONS).each((defaultLevel, key) => {\n  module.exports[key] = (board) => {\n    if (typeof board === 'string') {\n      board = Board.board(board);\n    }\n    if (!board) {\n      return config(`permissions.${key}`, defaultLevel);\n    }\n    return config(`board.${board.name}.permissions.${key}`, config(`permissions.${key}`, defaultLevel));\n  };\n});\n"]}